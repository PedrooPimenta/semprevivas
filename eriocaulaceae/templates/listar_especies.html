{% extends 'base.html' %}

{% block title %} Página Inicial {% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table class="table table-hover table-striped table-bordered">
                    <thead>
                        <tr>
                            <th scope="col">Taxon</th>
                            <th scope="col">Accepted Name Usage ID</th>
                            <th scope="col">Parent Name Usage ID</th>
                            <th scope="col">Scientific Name</th>
                            <th scope="col">Accepted Name Usage</th>
                            <th scope="col">Name Published In</th>
                            <th scope="col">Name Published In Year</th>
                            <th scope="col">Higher Classification</th>
                            <th scope="col">Kingdom</th>
                            <th scope="col">Family</th>
                            <th scope="col">Genus</th>
                            <th scope="col">Scientific Name Authorship</th>
                            <th scope="col">Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for especie in page_obj %}
                        <tr>
                            <td>{{ especie.taxonID }}</td>
                            <td>{{ especie.acceptedNameUsageID }}</td>
                            <td>{{ especie.parentNameUsageID }}</td>
                            <td>{{ especie.scientificName }}</td>
                            <td>{{ especie.acceptedNameUsage }}</td>
                            <td>{{ especie.namePublishedIn }}</td>
                            <td>{{ especie.namePublishedInYear }}</td>
                            <td>{{ especie.higherClassification }}</td>
                            <td>{{ especie.kingdom }}</td>
                            <td>{{ especie.family }}</td>
                            <td>{{ especie.genus }}</td>
                            <td>{{ especie.scientificNameAuthorship }}</td>
                            <td>
                                <button class="btn btn-info" data-toggle="modal" data-target="#modalEspecie{{ especie.id }}">
                                    Ver mais
                                </button>
                            </td>
                        </tr>

                        <div class="modal fade" id="modalEspecie{{ especie.id }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel{{ especie.id }}" aria-hidden="true">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="modalLabel{{ especie.id }}">Detalhes completos da espécie</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <p><strong>Taxon ID:</strong> {{ especie.taxonID }}</p>
                                        <p><strong>Accepted Name Usage ID:</strong> {{ especie.acceptedNameUsageID }}</p>
                                        <p><strong>Parent Name Usage ID:</strong> {{ especie.parentNameUsageID }}</p>
                                        <p><strong>Original Name Usage ID:</strong> {{ especie.originalNameUsageID }}</p>
                                        <p><strong>Scientific Name:</strong> {{ especie.scientificName }}</p>
                                        <p><strong>Accepted Name Usage:</strong> {{ especie.acceptedNameUsage }}</p>
                                        <p><strong>Parent Name Usage:</strong> {{ especie.parentNameUsage }}</p>
                                        <p><strong>Name Published In:</strong> {{ especie.namePublishedIn }}</p>
                                        <p><strong>Name Published In Year:</strong> {{ especie.namePublishedInYear }}</p>
                                        <p><strong>Higher Classification:</strong> {{ especie.higherClassification }}</p>
                                        <p><strong>Kingdom:</strong> {{ especie.kingdom }}</p>
                                        <p><strong>Phylum:</strong> {{ especie.phylum }}</p>
                                        <p><strong>Classe:</strong> {{ especie.classe }}</p>
                                        <p><strong>Order:</strong> {{ especie.order }}</p>
                                        <p><strong>Family:</strong> {{ especie.family }}</p>
                                        <p><strong>Genus:</strong> {{ especie.genus }}</p>
                                        <p><strong>Specific Epithet:</strong> {{ especie.specificEpithet }}</p>
                                        <p><strong>Infra Specific Epithet:</strong> {{ especie.infraspecificEpithet }}</p>
                                        <p><strong>Taxon Rank:</strong> {{ especie.taxonRank }}</p>
                                        <p><strong>Descrição Morfológica:</strong> {{ especie.descricao_morfologica }}</p>
                                        <p><strong>Chave Identificação:</strong> {{ especie.chave_identificacao }}</p>
                                        <p><strong>Comentários:</strong> {{ especie.comentarios }}</p>
                                        <p><strong>Estado:</strong> 
                                            <ul>
                                                {% for estado in especie.estado %}
                                                    <li>{{ estado }}</li>
                                                {% endfor %}
                                            </ul>
                                        </p>
                                        <p><strong>Scientific Name Authorship:</strong> {{ especie.scientificNameAuthorship }}</p>
                                        <p><strong>Taxonomic Status:</strong> {{ especie.taxonomicStatus }}</p>
                                        <p><strong>Nomenclatural Status:</strong> {{ especie.nomenclaturalStatus }}</p>
                                        <p><strong>Bibliographic Citation:</strong> {{ especie.bibliographicCitation }}</p>
                                        <p><strong>References:</strong> {{ especie.references }}</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <div class="pagination float-right">
        <div class="btn-group" role="group" aria-label="Paginação">
            {% if page_obj.has_previous %}
                <a class="btn btn-info" href="?page=1" aria-label="Primeira página">
                    &laquo; Primeira
                </a>
                <a class="btn btn-info" href="?page={{ page_obj.previous_page_number }}" aria-label="Página anterior">
                    Anterior
                </a>
            {% endif %}
    
            <span class="btn btn-light disabled">
                Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
            </span>
    
            {% if page_obj.has_next %}
                <a class="btn btn-info" href="?page={{ page_obj.next_page_number }}" aria-label="Próxima página">
                    Próxima
                </a>
                <a class="btn btn-info" href="?page={{ page_obj.paginator.num_pages }}" aria-label="Última página">
                    Última &raquo;
                </a>
            {% endif %}
        </div>
    </div>
    
</div>

{% endblock %}
